{"version":3,"sources":["webpack:///./src/components/ImageCard/index.vue","webpack:///src/components/ImageCard/index.vue","webpack:///./src/components/ImageCard/index.vue?5031","webpack:///./src/components/ImageCard/index.vue?5633","webpack:///src/views/chapter/Dropdown.vue","webpack:///./src/views/chapter/Dropdown.vue?6d2e","webpack:///src/views/chapter/index.vue","webpack:///./src/components/ChapterMenu/DropdownMenu.vue","webpack:///src/components/ChapterMenu/DropdownMenu.vue","webpack:///./src/components/ChapterMenu/DropdownMenu.vue?1fd0","webpack:///./src/components/ChapterMenu/DropdownMenu.vue?c63b","webpack:///./src/components/ChapterMenu/OnePageMenu.vue?94c5","webpack:///./src/views/chapter/index.vue?513a","webpack:///./src/views/chapter/OnePage.vue?1d7e","webpack:///./src/components/Favourite/index.vue","webpack:///src/components/Favourite/index.vue","webpack:///./src/components/Favourite/index.vue?8e57","webpack:///./src/components/Favourite/index.vue?ffac","webpack:///./src/views/chapter/Dropdown.vue","webpack:///./src/views/chapter/Dropdown.vue?3716","webpack:///./src/views/chapter/Dropdown.vue?1b51","webpack:///./src/views/chapter/index.vue","webpack:///./src/views/chapter/index.vue?e9d6","webpack:///./src/views/chapter/index.vue?4465","webpack:///src/views/chapter/OnePage.vue","webpack:///./src/views/chapter/OnePage.vue","webpack:///./src/views/chapter/OnePage.vue?9dec","webpack:///./src/views/chapter/OnePage.vue?70b8","webpack:///./src/components/ImageCard/index.vue?83b8","webpack:///./src/components/ChapterMenu/OnePageMenu.vue","webpack:///src/components/ChapterMenu/OnePageMenu.vue","webpack:///./src/components/ChapterMenu/OnePageMenu.vue?53ae","webpack:///./src/components/ChapterMenu/OnePageMenu.vue?83a2"],"names":["render","_vm","this","_c","_self","loading","staticClass","attrs","_v","_e","directives","name","rawName","value","expression","ref","src","on","loadingEvent","staticRenderFns","props","String","view","type","default","data","methods","topIntoView","bottomIntoView","_this","$nextTick","$refs","image","scrollIntoView","_this2","behavior","block","inline","component","step","components","ImageCard","DropdownMenu","imgList","footer","header","state","computed","_objectSpread","mapGetters","created","$emit","appendPages","$","window","scrollTop","blankTop","top","offsetTop","undefined","position","initPage","height","bottom","windowHeight","documentHeight","document","length","chapter","pages","nextPage","unshiftPages","prevPage","onbeforeunload","$store","dispatch","getCurrentPage","mounted","page","beforeDestroy","off","imgPath","index","comic","title","format","suffix","nowLoaded","currentPage","_this$imgList","end","Math","min","list","push","apply","_this3","unshift","max","changePage","commit","console","log","selector","offsetHeight","Favourite","OnePage","Dropdown","favourite","dropdown","chapterId","$route","params","id","beforeCreate","querySelector","setAttribute","removeAttribute","initStyle","fetchData","watch","localStorage","service","get","then","resp","concat","changeStyle","toggleHeader","menuMouseleave","slideUp","menuIconMouseenter","slideDown","menuClick","$router","mapActions","prevChapterEvent","nextChapterEvent","prevChapter","$event","preChapterEvent","nextChapter","Function","isLogin","fav","deleteFav","addFav","Boolean","comicId","Number","post","_s","_l","slice","key","refInFor","domProps","tag","OnePageMenu","cursor","menuHeader","scrollToMenu","prePage","confirm","documentClick","event","isMobile","outerWidth","screenX","documentMousemove","style","updatePage","e","parseInt","target"],"mappings":"2IAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAAEF,EAAII,QAASF,EAAG,MAAM,CAACG,YAAY,2BAA2BC,MAAM,CAAC,KAAO,WAAW,CAACJ,EAAG,OAAO,CAACG,YAAY,WAAW,CAACL,EAAIO,GAAG,kBAAkBP,EAAIQ,KAAKN,EAAG,MAAM,CAACO,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAQZ,EAAII,QAASS,WAAW,aAAaC,IAAI,QAAQT,YAAY,iDAAiDC,MAAM,CAAC,IAAMN,EAAIe,IAAI,IAAMf,EAAIe,KAAKC,GAAG,CAAC,KAAOhB,EAAIiB,mBAEpcC,EAAkB,GCUtB,GACAR,KAAA,YACAS,MAAA,CACAJ,IAAAK,OACAC,KAAA,CACAC,KAAAF,OACAG,QAAA,OAGAC,KAAA,WACA,OACApB,SAAA,IAIAqB,QAAA,CACAR,aAAA,WACA,KAAAb,SAAA,EACA,aAAAiB,KACA,KAAAK,cACA,gBAAAL,MACA,KAAAM,kBAIAD,YAAA,eAAAE,EAAA,KACA,KAAAC,WAAA,WAEAD,EAAAE,MAAAC,MAAAC,gBAAA,OAKAL,eAAA,eAAAM,EAAA,KACA,KAAAJ,WAAA,WACAI,EAAAH,MAAAC,MAAAC,eAAA,CACAE,SAAA,SACAC,MAAA,MACAC,OAAA,kBClD6V,I,wBCQzVC,EAAY,eACd,EACAtC,EACAmB,GACA,EACA,KACA,WACA,MAIa,OAAAmB,E,wHCWfC,EAAA,EAEA,QACA5B,KAAA,WAEA6B,WAAA,CAAAC,iBAAAC,qBACAtB,MAAA,GAGAK,KAAA,WACA,OACAkB,QAAA,GACAC,QAAA,EACAC,QAAA,EACAC,MAAA,OAIAC,SAAAC,eAAA,GACAC,eAAA,CACA,UACA,cACA,cACA,iBAIAC,QAAA,eAAArB,EAAA,KACA,KAAAsB,MAAA,oBACA,KAAAC,cACA,KAAAtB,WAAA,WACAD,EAAAiB,MAAA,UAIAO,EAAAC,QAAArC,GAAA,uBACA,IAAAsC,EAAAF,EAAAC,QAAAC,YACAC,EAAA3B,EAAAE,MAAA0B,IAAAC,UACA,QAAAC,IAAA9B,EAAA+B,SAAAH,IACA5B,EAAAgC,eAEA,CACA,IAAAC,EAAAjC,EAAA+B,SAAAG,OAAAlC,EAAA+B,SAAAH,IACA,GAAAF,EAAA1B,EAAA+B,SAAAL,UAAA,CACA,IAAAS,EAAAX,EAAAC,QAAAQ,SACAG,EAAAZ,EAAAa,UAAAJ,SACAP,EAAAS,EAAA,IAAAC,IACApC,EAAAc,QAAAd,EAAAc,QAAAwB,OAAA,GAAAtC,EAAAuC,QAAAC,MACAxC,EAAAuB,cAEAvB,EAAAe,QAAA,GAGAW,EAAA1B,EAAA+B,SAAAH,IAAA,EAAAK,EAAA,GACAjC,EAAAyC,gBAGAf,EAAAC,GAAA3B,EAAA+B,SAAAL,UAAA,GAAAC,IAEA,IAAA3B,EAAAc,QAAA,GACAd,EAAA0C,gBAEA1C,EAAAgB,QAAA,EACAhB,EAAAsB,MAAA,sBAGAI,EAAA1B,EAAA+B,SAAAH,IAAAK,EAAA,GACAjC,EAAA2C,WAIA3C,EAAA+B,SAAAL,eAGAD,OAAAmB,eAAA,WACA5C,EAAA6C,OAAAC,SAAA,aAAA9C,EAAA+C,oBAIAC,QAAA,WACA,KAAAjB,SAAA,CAAAH,SAAAE,EAAAI,YAAAJ,EAAAJ,UAAA,EAAAuB,KAAA,IAGAC,cAAA,WACA1B,EAAAC,QAAA0B,IAAA,aAGAtD,QAAA,CACAuD,QAAA,SAAAC,GACA,mBAAAd,QAAAe,MAAAC,MAAA,SAAAhB,QAAAgB,MACA,IAAAF,EAAAG,OAAA,QAAAjB,QAAAkB,QAGAlC,YAAA,eAAAlB,EAAA,KACAqD,EAAA,KAAA5C,QAAAwB,OAAA,KAAAqB,YAAA,OAAAA,YACA,SAAA7C,QAAAwB,QAAAoB,IAAA,KAAA5C,QAAA,KAAAA,QAAAwB,OAAA,UAAAsB,EACAC,EAAAC,KAAAC,IAAAL,EAAAhD,EAAA,KAAA6B,QAAAC,MAAA,GACAwB,EAAA,GACA,MAAAN,EAAAG,EACAG,EAAAC,KAAAP,MAEAE,EAAA,KAAA9C,SAAAmD,KAAAC,MAAAN,EAAAI,GACA,KAAA/D,WAAA,WACAI,EAAAmC,MAAAhB,EAAA,cAMAkB,aAAA,eAAAyB,EAAA,KAQA,SAAApC,SAAAkB,OACA,KAAAnC,QAAAsD,QAAAN,KAAAO,IAAA,KAAAV,YAAA,MACA,KAAA1C,MAAA,KACA,KAAAhB,WAAA,WACAkE,EAAA3B,MAAAhB,EAAA,SACA2C,EAAAG,WAAAH,EAAApC,SAAAkB,MACAkB,EAAAtB,OAAA0B,OAAA,aACAC,QAAAC,IAAAN,EAAAR,kBAKA3B,SAAA,WACA,KAAAsC,WAAA,IAGA3B,SAAA,WACA,KAAA2B,WAAA,KAAAvC,SAAAkB,KAAA,KACAuB,QAAAC,IAAA,aACA,KAAA5B,OAAA0B,OAAA,aACAC,QAAAC,IAAA,KAAAd,eAIAlB,SAAA,WACA,KAAA6B,WAAA,KAAAvC,SAAAkB,KAAA,KACAuB,QAAAC,IAAA,aACA,KAAA5B,OAAA0B,OAAA,aACAC,QAAAC,IAAA,KAAAd,eAIAW,WAAA,SAAArB,GACA,GAAAA,EAAA,GAAAA,GAAA,KAAAnC,QAAAwB,OACA,SAEA,IAAAoC,EAAA,KAAAlC,MAAAS,GAKA,OAJA,KAAAlB,SAAAH,IAAA8C,EAAA7C,UACA,KAAAE,SAAAG,OAAAwC,EAAA7C,UAAA6C,EAAAC,aACA,KAAA5C,SAAAkB,OACAuB,QAAAC,IAAA,KAAA1C,WACA,GAGAgB,eAAA,WACA,YAAAY,iB,0DChMA,W,wKCmFA,QACA7E,KAAA,UACA6B,WAAA,CAAAiE,iBAAAC,eAAAC,iBACAlF,KAAA,WACA,OACApB,SAAA,EACAuG,WAAA,EACAC,UAAA,EACAhE,QAAA,IAIAE,SAAAC,8BAAA,GACAC,eAAA,CACA,UACA,cACA,cACA,iBACA,IAEA6D,UAAA,WACA,YAAAC,OAAAC,OAAAC,MAIAC,aAAA,WACAhD,SAAAiD,cAAA,QAAAC,aAAA,iDAGArC,cAAA,WACAb,SAAAiD,cAAA,QAAAE,gBAAA,UAGAnE,QAAA,WACA,KAAAoE,YACA,KAAAC,aAGAC,MAAA,CACA,oBAGA9F,QAAAsB,eAAA,CACAsE,UAAA,gBACA3D,IAAA8D,aAAAZ,WACAY,aAAAZ,UAAA,GAEA,KAAAA,SAAA,SAAAY,aAAAZ,UAGAU,UAAA,eAAA1F,EAAA,KACA,KAAAxB,SAAA,EACAqH,OAAAC,IAAA,qBAAAb,WAAAc,MAAA,SAAAC,GACAhG,EAAA6C,OAAA0B,OAAA,OAAAyB,GACAhG,EAAA+E,UAAAiB,EAAAjB,UACA1C,SAAAkB,MAAA,GAAA0C,OAAAjG,EAAAuC,QAAAe,MAAAC,MAAA,OAAA0C,OAAAjG,EAAAuC,QAAAgB,OACAvD,EAAAxB,SAAA,MAIA0H,YAAA,WACA,KAAAlB,UAAA,KAAAA,SACAY,aAAAZ,SAAA,KAAAA,UAGAmB,aAAA,SAAAnF,GAEA,KAAAA,UAGAoF,eAAA,WACA5E,EAAA,iBAAA6E,QAAA,MAGAC,mBAAA,WACA9E,EAAA,iBAAA+E,UAAA,SAGAC,UAAA,WACA,KAAA3D,OAAAC,SAAA,kBAAAa,aACA,KAAA8C,QAAAxC,KAAA,UAAAgC,OAAA,KAAA1D,QAAAe,MAAA8B,OAGAsB,eAAA,CACAC,iBAAA,cACAC,iBAAA,oB,wDCxKA,IAAIzI,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACG,YAAY,6DAA6D,CAAEL,EAAIyI,YAAavI,EAAG,SAAS,CAACG,YAAY,eAAeW,GAAG,CAAC,MAAQ,SAAS0H,GAAQ1I,EAAI2I,gBAAgB3I,EAAI2E,qBAAqB,CAAC3E,EAAIO,GAAG,WAAWP,EAAIQ,KAAKN,EAAG,cAAc,CAACG,YAAY,oBAAoBC,MAAM,CAAC,GAAK,UAAYN,EAAImE,QAAQe,MAAM8B,GAAG,KAAO,WAAW,CAAChH,EAAIO,GAAG,UAAWP,EAAI4I,YAAa1I,EAAG,SAAS,CAACG,YAAY,oBAAoBW,GAAG,CAAC,MAAQ,SAAS0H,GAAQ1I,EAAIwI,iBAAiBxI,EAAI2E,qBAAqB,CAAC3E,EAAIO,GAAG,WAAWP,EAAIQ,MAAM,IAE7lBU,EAAkB,G,wBCkBtB,GACAR,KAAA,eACAS,MAAA,CACAwD,eAAAkE,UAGA/F,SAAAC,eAAA,GACAC,eAAA,CACA,cACA,UACA,iBAIAvB,QAAAsB,eAAA,GACAuF,eAAA,CACAC,iBAAA,cACAC,iBAAA,kBCrCoW,I,YCOhWnG,EAAY,eACd,EACAtC,EACAmB,GACA,EACA,KACA,WACA,MAIa,OAAAmB,E,2CClBf,W,oCCAA,W,2DCAA,W,kCCAA,IAAItC,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAQF,EAAI8I,UAAW5I,EAAG,OAAO,CAAEF,EAAI+I,IAAK7I,EAAG,SAAS,CAACG,YAAY,sCAAsCC,MAAM,CAAC,iBAAiBN,EAAI2D,SAAS,cAAc,UAAU,MAAQ,QAAQ3C,GAAG,CAAC,MAAQ,SAAS0H,GAAQ,OAAO1I,EAAIgJ,eAAe,CAAC9I,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,+BAA+B,OAAS,OAAO,IAAM,mCAAmC,MAAQ,YAAYJ,EAAG,SAAS,CAACG,YAAY,sCAAsCC,MAAM,CAAC,iBAAiBN,EAAI2D,SAAS,cAAc,UAAU,MAAQ,MAAM3C,GAAG,CAAC,MAAQ,SAAS0H,GAAQ,OAAO1I,EAAIiJ,YAAY,CAAC/I,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,0BAA0B,OAAS,OAAO,IAAM,8BAA8B,MAAQ,cAAcN,EAAIQ,MAEzuBU,EAAkB,G,oCCmBtB,GACAR,KAAA,YACAS,MAAA,CACAwF,UAAAuC,QACAC,QAAA,CAAAC,OAAAhI,QACAuC,SAAA,CACArC,KAAAF,OACAG,QAAA,QAIAC,KAAA,WACA,OACAuH,IAAA,KAAApC,YAIAlF,QAAA,CACAqH,QAAA,kBAAAA,kBAEAG,OAAA,eAAArH,EAAA,KACA6F,OAAA4B,KAAA,mBAAAF,QAAA,iBAAAxB,MAAA,WACA/F,EAAAmH,KAAA,MAIAC,UAAA,eAAA/G,EAAA,KACAwF,OAAA4B,KAAA,mBAAAF,QAAA,oBAAAxB,MAAA,WACA1F,EAAA8G,KAAA,QCjD6V,I,YCOzV1G,EAAY,eACd,EACAtC,EACAmB,GACA,EACA,KACA,WACA,MAIa,OAAAmB,E,gFClBXtC,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,gBAAgB,CAACO,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOZ,EAAI4C,OAAQ/B,WAAW,WAAWP,MAAM,CAAC,mBAAmBN,EAAI2E,kBAAkBzE,EAAG,MAAM,CAACG,YAAY,cAAcC,MAAM,CAAC,GAAK,eAAe,CAACJ,EAAG,OAAO,CAACY,IAAI,QAAQZ,EAAG,MAAM,CAACG,YAAY,QAAQ,CAAgB,SAAdL,EAAI6C,MAAkB3C,EAAG,YAAY,CAACI,MAAM,CAAC,IAAMN,EAAIgF,QAAQhF,EAAI0C,QAAQ,IAAI,KAAO,SAAwB,OAAd1C,EAAI6C,MAAgB3C,EAAG,YAAY,CAACI,MAAM,CAAC,IAAMN,EAAIgF,QAAQhF,EAAI0C,QAAQ,IAAI,KAAO,YAAY1C,EAAIQ,KAAKN,EAAG,OAAO,CAACG,YAAY,yBAAyB,CAACL,EAAIO,GAAGP,EAAIsJ,GAAGtJ,EAAI0C,QAAQ,GAAK,IAAM1C,EAAImE,QAAQC,WAAW,GAAGpE,EAAIuJ,GAAIvJ,EAAI0C,QAAQ8G,MAAM,IAAI,SAASvE,GAAO,OAAO/E,EAAG,MAAM,CAACuJ,IAAIxE,EAAM5E,YAAY,QAAQ,CAACH,EAAG,YAAY,CAACY,IAAI,MAAQmE,EAAMyE,UAAS,EAAKpJ,MAAM,CAAC,IAAMN,EAAIgF,QAAQC,MAAU/E,EAAG,OAAO,CAACG,YAAY,yBAAyB,CAACL,EAAIO,GAAGP,EAAIsJ,GAAGrE,EAAQ,IAAMjF,EAAImE,QAAQC,WAAW,OAAM,GAAGlE,EAAG,gBAAgB,CAACO,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOZ,EAAI2C,OAAQ9B,WAAW,WAAWP,MAAM,CAAC,mBAAmBN,EAAI2E,mBAAmB,IAEtkCzD,EAAkB,G,YCF0U,S,wBCQ5VmB,EAAY,eACd,EACAtC,EACAmB,GACA,EACA,KACA,WACA,MAIa,OAAAmB,E,kDCnBf,IAAItC,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACI,MAAM,CAAC,GAAK,YAAY,CAAEN,EAAII,QAASF,EAAG,MAAM,CAACG,YAAY,eAAe,CAACL,EAAIO,GAAG,cAAcP,EAAIQ,KAAMR,EAAImE,QAASjE,EAAG,MAAM,CAAEF,EAAI4C,OAAQ,CAAC1C,EAAG,MAAM,CAACG,YAAY,+BAA+BC,MAAM,CAAC,GAAK,gBAAgB,CAACJ,EAAG,KAAK,CAACA,EAAG,cAAc,CAACG,YAAY,aAAaC,MAAM,CAAC,GAAI,UAAAuH,OAAW7H,EAAImE,QAAQe,MAAM8B,MAAO,CAAChH,EAAIO,GAAGP,EAAIsJ,GAAGtJ,EAAImE,QAAQe,MAAMC,UAAUnF,EAAIO,GAAG,IAAIP,EAAIsJ,GAAG,KAAOtJ,EAAImE,QAAQgB,MAAQ,KAAK,MAAM,KAAKjF,EAAG,MAAM,CAACG,YAAY,0BAA0B,CAACH,EAAG,QAAQ,CAACG,YAAY,mBAAmBC,MAAM,CAAC,GAAK,aAAa,KAAO,YAAYqJ,SAAS,CAAC,QAAU3J,EAAI4G,UAAU5F,GAAG,CAAC,OAAShB,EAAI8H,eAAe5H,EAAG,QAAQ,CAACG,YAAY,mBAAmBC,MAAM,CAAC,IAAM,eAAe,CAACN,EAAIO,GAAG,gBAAgBP,EAAIQ,KAAKN,EAAGF,EAAI4G,SAAW,WAAa,WAAW,CAACgD,IAAI,YAAY5I,GAAG,CAAC,gBAAgBhB,EAAI+H,gBAAgB7H,EAAG,MAAM,CAACI,MAAM,CAAC,GAAK,QAAQU,GAAG,CAAC,WAAahB,EAAIgI,iBAAiB,CAAC9H,EAAG,MAAM,CAACG,YAAY,wBAAwBC,MAAM,CAAC,GAAK,eAAe,KAAO,UAAU,CAACJ,EAAG,SAAS,CAACG,YAAY,wBAAwBC,MAAM,CAAC,sBAAsB,SAAS,iBAAiB,OAAO,cAAc,UAAU,GAAK,kBAAkB,MAAQ,GAAG,KAAO,UAAUU,GAAG,CAAC,MAAQhB,EAAI8H,cAAc,CAAC5H,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,iCAAiC,OAAS,OAAO,IAAM,qCAAqC,MAAQ,YAAYJ,EAAG,MAAMA,EAAG,YAAY,CAACI,MAAM,CAAC,WAAWN,EAAImE,QAAQe,MAAM8B,GAAG,UAAYhH,EAAI2G,UAAU,SAAW,UAAUzG,EAAG,MAAOF,EAAIyI,YAAa,CAACvI,EAAG,SAAS,CAACG,YAAY,wBAAwBC,MAAM,CAAC,sBAAsB,MAAM,iBAAiB,OAAO,cAAc,UAAU,KAAO,UAAUU,GAAG,CAAC,MAAQ,SAAS0H,GAAQ,OAAO1I,EAAIuI,iBAAiBvI,EAAIuF,gBAAgB,CAACrF,EAAG,MAAM,CAACG,YAAY,OAAOC,MAAM,CAAC,OAAO,OAAO,EAAI,gBAAgB,QAAU,MAAM,QAAU,gBAAgB,MAAQ,+BAA+B,CAACJ,EAAG,OAAO,CAACI,MAAM,CAAC,EAAI,mNAAmN,OAAO,cAAcJ,EAAG,OAAOF,EAAIQ,KAAKN,EAAG,SAAS,CAACG,YAAY,wBAAwBC,MAAM,CAAC,sBAAsB,KAAK,iBAAiB,OAAO,cAAc,UAAU,KAAO,UAAUU,GAAG,CAAC,MAAQhB,EAAIoI,YAAY,CAAClI,EAAG,MAAM,CAACG,YAAY,OAAOC,MAAM,CAAC,OAAO,OAAO,EAAI,gBAAgB,QAAU,MAAM,QAAU,gBAAgB,MAAQ,+BAA+B,CAACJ,EAAG,OAAO,CAACI,MAAM,CAAC,EAAI,6xBAA6xB,OAAO,cAAcJ,EAAG,MAAOF,EAAI4I,YAAa1I,EAAG,SAAS,CAACG,YAAY,wBAAwBC,MAAM,CAAC,sBAAsB,MAAM,iBAAiB,OAAO,cAAc,UAAU,KAAO,UAAUU,GAAG,CAAC,MAAQ,SAAS0H,GAAQ,OAAO1I,EAAIwI,iBAAiBxI,EAAIuF,gBAAgB,CAACrF,EAAG,MAAM,CAACG,YAAY,OAAOC,MAAM,CAAC,OAAO,OAAO,EAAI,gBAAgB,QAAU,MAAM,QAAU,gBAAgB,MAAQ,+BAA+B,CAACJ,EAAG,OAAO,CAACI,MAAM,CAAC,EAAI,sNAAsN,OAAO,cAAcN,EAAIQ,MAAM,GAAGN,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,GAAG,GAAK,YAAY,IAAM,kCAAkCU,GAAG,CAAC,WAAahB,EAAIkI,yBAAyB,GAAGlI,EAAIQ,QAEhmIU,EAAkB,G,YCFuU,S,wBCQzVmB,EAAY,eACd,EACAtC,EACAmB,GACA,EACA,KACA,WACA,MAIa,aAAAmB,E,wHCMf,QACA3B,KAAA,UACA6B,WAAA,CAAAC,iBAAAqH,oBACA1I,MAAA,GAGAK,KAAA,WACA,OACAsI,OAAA,YAIAhH,SAAAC,8BAAA,GACAC,eAAA,CACA,UACA,cACA,cACA,iBACA,IAEAgC,QAAA,WACA,mBAAAb,QAAAe,MAAAC,MAAA,SAAAhB,QAAAgB,MACA,SAAAI,YAAAH,OAAA,QAAAjB,QAAAkB,UAIApC,QAAA,eAAArB,EAAA,KACAyB,OAAAmB,eAAA,WACA5C,EAAA6C,OAAAC,SAAA,aAAA9C,EAAA2D,eAIAX,QAAA,WACA,KAAAmF,WAAA3G,EAAA,iBAGA3B,QAAA,CACAuI,aAAA,WACA5G,EAAAa,UAAAX,UAAA,KAAAyG,WAAA,GAAAtG,YAGAwG,QAAA,eAAAhI,EAAA,KACA,KAAAsD,YAAA,GACA,KAAAd,OAAA0B,OAAA,aACA,KAAAtE,WAAA,kBAAAI,EAAA+H,mBACA,KAAAvB,aAAAyB,QAAA,uBACA,KAAAzF,OAAAC,SAAA,mBAAAa,cAIAlB,SAAA,eAAA0B,EAAA,KACA,KAAAR,YAAA,KAAApB,QAAAC,OACA,KAAAK,OAAA0B,OAAA,aACA,KAAAtE,WAAA,kBAAAkE,EAAAiE,mBACA,KAAApB,aAAAsB,QAAA,2BACA,KAAAzF,OAAAC,SAAA,mBAAAa,cAIA4E,cAAA,SAAAC,GACAC,iBACA,KAAAhG,WAEAhB,OAAAiH,WAAA,EAAAF,EAAAG,QAAA,EACA,KAAAN,UACA5G,OAAAiH,WAAA,EAAAF,EAAAG,QAAA,GACA,KAAAlG,YAKAmG,kBAAA,SAAAJ,GACA/G,OAAAiH,WAAA,EAAAF,EAAAG,QAAA,GACAlH,OAAAiH,WAAA,EAAAF,EAAAG,QAAA,EACA,KAAAT,OAAA,UAEA,KAAAA,OAAA,e,+ECrGA,IAAI/J,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,gBAAgB,CAACI,MAAM,CAAC,YAAYN,EAAIqE,SAAS,YAAYrE,EAAIiK,QAAQ,GAAK,iBAAiB/J,EAAG,MAAM,CAACG,YAAY,cAAcoK,MAAO,CAACX,OAAQ9J,EAAI8J,QAASxJ,MAAM,CAAC,GAAK,cAAcU,GAAG,CAAC,MAAQ,SAAS0H,GAAQ,OAAO1I,EAAImK,cAAczB,IAAS,UAAY,SAASA,GAAQ,OAAO1I,EAAIwK,kBAAkB9B,MAAW,CAACxI,EAAG,MAAM,CAACG,YAAY,QAAQ,CAACH,EAAG,YAAY,CAACI,MAAM,CAAC,IAAMN,EAAIgF,YAAY,KAAK9E,EAAG,gBAAgB,CAACI,MAAM,CAAC,YAAYN,EAAIqE,SAAS,YAAYrE,EAAIiK,YAAY,IAE5iB/I,EAAkB,G,YCFyU,S,wBCQ3VmB,EAAY,eACd,EACAtC,EACAmB,GACA,EACA,KACA,WACA,MAIa,OAAAmB,E,2CCnBf,W,kCCAA,IAAItC,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACG,YAAY,wDAAwD,CAAEL,EAAIyI,YAAavI,EAAG,SAAS,CAACG,YAAY,2BAA2BW,GAAG,CAAC,MAAQ,SAAS0H,GAAQ,OAAO1I,EAAIuI,iBAAiBvI,EAAIuF,gBAAgB,CAACvF,EAAIO,GAAG,WAAWP,EAAIQ,KAAKN,EAAG,SAAS,CAACG,YAAY,qCAAqCW,GAAG,CAAC,MAAQhB,EAAIuE,WAAW,CAACvE,EAAIO,GAAG,SAASL,EAAG,SAAS,CAACG,YAAY,gCAAgCsJ,SAAS,CAAC,MAAQ3J,EAAIuF,aAAavE,GAAG,CAAC,OAAShB,EAAI0K,aAAa1K,EAAIuJ,GAAIvJ,EAAImE,QAAQC,OAAO,SAASa,GAAO,OAAO/E,EAAG,SAAS,CAACuJ,IAAIxE,EAAM0E,SAAS,CAAC,SAAW1E,IAAUjF,EAAIuF,YAAY,MAAQN,IAAQ,CAACjF,EAAIO,GAAG,IAAIP,EAAIsJ,GAAGrE,GAAO,UAAS,GAAG/E,EAAG,OAAO,CAACG,YAAY,cAAc,CAACL,EAAIO,GAAG,IAAIP,EAAIsJ,GAAGtJ,EAAImE,QAAQC,UAAUlE,EAAG,SAAS,CAACG,YAAY,qCAAqCW,GAAG,CAAC,MAAQhB,EAAIqE,WAAW,CAACrE,EAAIO,GAAG,SAAUP,EAAI4I,YAAa1I,EAAG,SAAS,CAACG,YAAY,iCAAiCW,GAAG,CAAC,MAAQ,SAAS0H,GAAQ,OAAO1I,EAAIwI,iBAAiBxI,EAAIuF,gBAAgB,CAACvF,EAAIO,GAAG,WAAWP,EAAIQ,QAEvjCU,EAAkB,G,wBC2BtB,GACAR,KAAA,cACAS,MAAA,CACAoD,SAAAsE,SACAxE,SAAAwE,UAGA/F,SAAAC,eAAA,GACAC,eAAA,CACA,UACA,cACA,cACA,iBAIAvB,QAAAsB,eAAA,CACA2H,WAAA,SAAAC,GACA,KAAAlG,OAAA0B,OAAA,YAAAyE,SAAAD,EAAAE,OAAAjK,UAGA0H,eAAA,CACAC,iBAAA,cACAC,iBAAA,kBCpDmW,I,wBCQ/VnG,EAAY,eACd,EACAtC,EACAmB,GACA,EACA,KACA,WACA,MAIa,OAAAmB,E","file":"js/chunk-d143eeee.643f932a.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.loading)?_c('div',{staticClass:\"spinner-border text-dark\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading...\")])]):_vm._e(),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}],ref:\"image\",staticClass:\"page-img border border-light rounded mt-2 mb-2\",attrs:{\"alt\":_vm.src,\"src\":_vm.src},on:{\"load\":_vm.loadingEvent}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"spinner-border text-dark\" role=\"status\" v-if=\"loading\">\n      <span class=\"sr-only\">Loading...</span>\n    </div>\n    <img :alt=\"src\"\n         :src=\"src\" @load=\"loadingEvent\"\n         class=\"page-img border border-light rounded mt-2 mb-2\" ref=\"image\" v-show=\"!loading\"/>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"ImageCard\",\n    props: {\n      src: String,\n      view: {\n        type: String,\n        default: null\n      }\n    },\n    data() {\n      return {\n        loading: true\n      }\n    },\n\n    methods: {\n      loadingEvent() {\n        this.loading = false;\n        if (this.view === 'top') {\n          this.topIntoView()\n        } else if (this.view === 'bottom') {\n          this.bottomIntoView()\n        }\n      },\n\n      topIntoView() {\n        this.$nextTick(() => {\n          // console.log('top into view');\n          this.$refs.image.scrollIntoView(true);\n        });\n\n      },\n\n      bottomIntoView() {\n        this.$nextTick(() => {\n          this.$refs.image.scrollIntoView({\n            behavior: 'smooth',\n            block: 'end',\n            inline: 'nearest'\n          });\n          // console.log('bottom Into view')\n        });\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .page-img {\n    max-width: 90%;\n    border-width: .2rem;\n    box-shadow: 4px 4px 5px #aaaaaa, -3px -3px 5px #aaaaaa;\n    /*filter: drop-shadow(2px 2px 3px rgba(0, 0, 0, .5));*/\n  }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=440eb63a&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=440eb63a&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"440eb63a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <dropdown-menu :get-current-page=\"getCurrentPage\" v-show=\"header\"></dropdown-menu>\n    <div class=\"text-center\" id=\"main-pages\">\n      <span ref=\"top\"></span>\n      <div class=\"page\">\n        <ImageCard :src=\"imgPath(imgList[0])\" v-if=\"state === 'init'\"\n                   view=\"top\"></ImageCard>\n        <ImageCard :src=\"imgPath(imgList[0])\" v-else-if=\"state === 'up'\"\n                   view=\"bottom\"></ImageCard>\n        <span class='footer text-secondary'>{{imgList[0] + '/' + chapter.pages}}</span>\n      </div>\n\n      <div :key=\"index\" class=\"page\" v-for=\"index of imgList.slice(1)\">\n        <ImageCard :ref=\"'img' + index\" :src=\"imgPath(index)\"></ImageCard>\n        <!--<img class=\"page-img border border-light rounded mt-2 mb-2\"\n             :alt=\"imgPath(index)\" :src=\"imgPath(index)\"/>\n        <br>-->\n        <span class='footer text-secondary'>{{index + '/' + chapter.pages}}</span>\n      </div>\n    </div>\n    <dropdown-menu :get-current-page=\"getCurrentPage\" v-show=\"footer\"></dropdown-menu>\n  </div>\n</template>\n\n<script>\n  import {mapGetters} from \"vuex\"\n  import DropdownMenu from \"@/components/ChapterMenu/DropdownMenu\"\n  import ImageCard from \"@/components/ImageCard/index\";\n\n  const step = 5;\n\n  export default {\n    name: \"Dropdown\",\n    // eslint-disable-next-line vue/no-unused-components\n    components: {ImageCard, DropdownMenu},\n    props: {\n    },\n\n    data() {\n      return {\n        imgList: [],\n        footer: false,\n        header: false,\n        state: null,\n      }\n    },\n\n    computed: {\n      ...mapGetters([\n        'chapter',\n        'prevChapter',\n        'nextChapter',\n        'currentPage'\n      ]),\n    },\n\n    created() {\n      this.$emit('toggle-header', false);\n      this.appendPages();\n      this.$nextTick(() => {\n        this.state = 'init';\n      });\n\n      // 绑定scroll事件\n      $(window).on('scroll.a', () => {\n        const scrollTop = $(window).scrollTop();\n        const blankTop = this.$refs.top.offsetTop;\n        if (this.position.top === undefined) { // 初始化position\n          this.initPage();\n          // this.position.scrollTop = this.position.top;\n        } else {\n          const height = this.position.bottom - this.position.top;\n          if (scrollTop > this.position.scrollTop) { // 向下滚动\n            const windowHeight = $(window).height();\n            const documentHeight = $(document).height();\n            if (scrollTop + windowHeight + 10 >= documentHeight) {\n              if (this.imgList[this.imgList.length - 1] < this.chapter.pages) {\n                this.appendPages();\n              } else {\n                this.footer = true;\n              }\n            }\n            if (scrollTop > this.position.top + 4 * height / 5) { // 下一页\n              this.nextPage();\n            }\n          } else { // 向上滚动\n            if (scrollTop < blankTop && this.position.scrollTop + 1 >= blankTop) {\n              // 避免连续触发\n              if (this.imgList[0] !== 1) {\n                this.unshiftPages();\n              } else {\n                this.header = true;\n                this.$emit('toggle-header', true);\n              }\n            }\n            if (scrollTop < this.position.top + height / 5) { // 上一页\n              this.prevPage();\n            }\n          }\n        }\n        this.position.scrollTop = scrollTop;\n      });\n\n      window.onbeforeunload = () => {\n        this.$store.dispatch('SyncRecord', this.getCurrentPage())\n      };\n    },\n\n    mounted() {\n      this.position = {top: undefined, bottom: undefined, scrollTop: 0, page: 0};\n    },\n\n    beforeDestroy() {\n      $(window).off('scroll.a');\n    },\n\n    methods: {\n      imgPath(index) {\n        return '/api/' + this.chapter.comic.title + '/' + this.chapter.title +\n          '/' + index.format(3) + this.chapter.suffix;\n      },\n\n      appendPages() {\n        let nowLoaded = this.imgList.length ? this.currentPage + 1 : this.currentPage;\n        if (!this.imgList.length || nowLoaded === this.imgList[this.imgList.length - 1] + 1) {\n          const end = Math.min(nowLoaded + step, this.chapter.pages + 1);\n          let list = [];\n          while (nowLoaded < end) {\n            list.push(nowLoaded++);\n          }\n          this.imgList.push(...list);\n          this.$nextTick(() => {\n            this.pages = $('.page');\n          });\n          // console.log(this.imgList)\n        }\n      },\n\n      unshiftPages() {\n        /* let start = Math.max(this.currentPage - step, 1);\n        let start = Math.max(this.currentPage - 1, 1);\n        let list = [];\n        while (start < this.currentPage) {\n          list.push(start++);\n        }\n        this.imgList.unshift(...list)*/\n        if (this.position.page === 0) {\n          this.imgList.unshift(Math.max(this.currentPage - 1, 1));\n          this.state = 'up';\n          this.$nextTick(() => {\n            this.pages = $('.page');\n            this.changePage(this.position.page);\n            this.$store.commit('PREV_PAGE');\n            console.log(this.currentPage)\n          })\n        }\n      },\n\n      initPage() {\n        this.changePage(0)\n      },\n\n      prevPage() {\n        if (this.changePage(this.position.page - 1)) {\n          console.log('prev page');\n          this.$store.commit('PREV_PAGE');\n          console.log(this.currentPage);\n        }\n      },\n\n      nextPage() {\n        if (this.changePage(this.position.page + 1)) {\n          console.log('next page');\n          this.$store.commit('NEXT_PAGE');\n          console.log(this.currentPage);\n        }\n      },\n\n      changePage(page) {\n        if (page < 0 || page >= this.imgList.length) {\n          return false\n        }\n        const selector = this.pages[page];\n        this.position.top = selector.offsetTop;\n        this.position.bottom = selector.offsetTop + selector.offsetHeight;\n        this.position.page = page;\n        console.log(this.position);\n        return true;\n      },\n\n      getCurrentPage(){\n        return this.currentPage\n      },\n    }\n  }\n</script>\n\n<style scoped>\n  .page-img {\n    max-width: 90%;\n    border-width: .2rem;\n    box-shadow: 4px 4px 5px #aaaaaa, -3px -3px 5px #aaaaaa;\n    /*filter: drop-shadow(2px 2px 3px rgba(0, 0, 0, .5));*/\n  }\n</style>","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dropdown.vue?vue&type=style&index=0&id=cac75b86&prod&scoped=true&lang=css\"","<template>\n  <div id=\"chapter\">\n    <div class=\"text-center\" v-if=\"loading\">\n      加载中...\n    </div>\n\n    <div v-if=\"chapter\">\n      <template v-if=\"header\">\n        <div class=\"header mb-4 text-center mt-4\" id=\"page-header\">\n          <h2>\n            <router-link :to=\"`/comic/${chapter.comic.id}`\" class=\"muted-link\">{{ chapter.comic.title }}</router-link>\n            {{ ' 第' + chapter.title + '卷'}}\n          </h2>\n        </div>\n\n        <div class=\"form-check text-center\">\n          <input :checked=\"dropdown\" @change=\"changeStyle\"\n                 class=\"form-check-input\" id=\"read-style\" type=\"checkbox\">\n          <label class=\"form-check-label\" for=\"read-style\">\n            下拉式阅读\n          </label>\n        </div>\n      </template>\n<!--      <dropdown ></dropdown>-->\n\n      <component :is=\"dropdown ? 'dropdown' : 'one-page'\"\n                 v-on:toggle-header=\"toggleHeader\">\n      </component>\n\n      <div @mouseleave=\"menuMouseleave\" id=\"menu\">\n        <div class=\"text-center btn-group\" id=\"menu-content\" role=\"group\">\n          <button @click=\"changeStyle\" class=\"btn btn-outline-light\" data-original-title=\"切换阅读方式\"\n                  data-placement=\"left\" data-toggle=\"tooltip\" id=\"menu-read-style\" title type=\"button\">\n            <img alt=\"/images/icons/arrow-repeat.svg\"\n                 height=\"30px\" src=\"/api/images/icons/arrow-repeat.svg\" width=\"30px\">\n          </button>\n          <br>\n          <favourite :comic-id=\"chapter.comic.id\" :favourite=\"favourite\" position=\"left\"></favourite>\n          <br>\n\n          <template v-if=\"prevChapter\" >\n            <button @click=\"prevChapterEvent(currentPage)\" class=\"btn btn-outline-light\" data-original-title=\"上一章\"\n                    data-placement=\"left\" data-toggle=\"tooltip\"\n                    type=\"button\">\n              <svg class=\"icon\" p-id=\"2633\" t=\"1575400052204\" version=\"1.1\" viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M830.24 685.76l11.328-11.312a16 16 0 0 0 0-22.64L530.448 340.688a16 16 0 0 0-22.64 0L196.688 651.808a16 16 0 0 0 0 22.64l11.312 11.312a16 16 0 0 0 22.624 0l288.496-288.512L807.632 685.76a16 16 0 0 0 22.624 0z\" p-id=\"2634\">\n                </path>\n              </svg>\n            </button>\n            <br>\n          </template>\n          <button @click=\"menuClick\" class=\"btn btn-outline-light\"\n                  data-original-title=\"目录\" data-placement=\"left\"\n                  data-toggle=\"tooltip\" type=\"button\">\n            <svg class=\"icon\" p-id=\"2869\" t=\"1575400455009\" version=\"1.1\" viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M343.312 374.256v-16a16 16 0 0 1 16-16h23.648a16 16 0 0 1 16 16v16a16 16 0 0 1-16 16h-23.648a16 16 0 0 1-16-16z m100.16 0v-16a16 16 0 0 1 16-16H650.08a16 16 0 0 1 16 16v16a16 16 0 0 1-16 16H459.472a16 16 0 0 1-16-16z m-100.16 144.704v-16a16 16 0 0 1 16-16h23.648a16 16 0 0 1 16 16v16a16 16 0 0 1-16 16h-23.648a16 16 0 0 1-16-16z m100.16 0v-16a16 16 0 0 1 16-16H650.08a16 16 0 0 1 16 16v16a16 16 0 0 1-16 16H459.472a16 16 0 0 1-16-16z m-100.16 144.688v-16a16 16 0 0 1 16-16h23.648a16 16 0 0 1 16 16v16a16 16 0 0 1-16 16h-23.648a16 16 0 0 1-16-16z m100.16 0v-16a16 16 0 0 1 16-16H650.08a16 16 0 0 1 16 16v16a16 16 0 0 1-16 16H459.472a16 16 0 0 1-16-16zM256 240v541.92h497.392V240H256z m529.392 589.92H224a16 16 0 0 1-16-16V208a16 16 0 0 1 16-16h561.392a16 16 0 0 1 16 16v605.92a16 16 0 0 1-16 16z\" p-id=\"2870\">\n              </path>\n            </svg>\n          </button>\n          <br>\n          <button @click=\"nextChapterEvent(currentPage)\" class=\"btn btn-outline-light\" data-original-title=\"下一章\"\n                  data-placement=\"left\" data-toggle=\"tooltip\"\n                  type=\"button\" v-if=\"nextChapter\">\n            <svg class=\"icon\" p-id=\"2515\" t=\"1575399554787\" version=\"1.1\" viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M830.24 340.688l11.328 11.312a16 16 0 0 1 0 22.624L530.448 685.76a16 16 0 0 1-22.64 0L196.688 374.624a16 16 0 0 1 0-22.624l11.312-11.312a16 16 0 0 1 22.624 0l288.496 288.496 288.512-288.496a16 16 0 0 1 22.624 0z\" p-id=\"2516\">\n\n              </path>\n            </svg>\n          </button>\n        </div>\n        <img @mouseenter=\"menuIconMouseenter\" alt=\"\" id=\"menu-icon\" src=\"/api/images/list-unordered.svg\">\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import OnePage from \"@/views/chapter/OnePage\";\n  import Dropdown from \"@/views/chapter/Dropdown\"\n  import {mapActions, mapGetters} from \"vuex\"\n  import {service} from \"@/api/api\";\n  import Favourite from \"@/components/Favourite/index\";\n\n  export default {\n    name: \"Chapter\",\n    components: {Favourite, OnePage, Dropdown},\n    data() {\n      return {\n        loading: false,\n        favourite: false,\n        dropdown: true,\n        header: true\n      }\n    },\n\n    computed: {\n      ...mapGetters([\n        'chapter',\n        'prevChapter',\n        'nextChapter',\n        'currentPage'\n      ]),\n\n      chapterId() {\n        return this.$route.params.id\n      },\n    },\n\n    beforeCreate() {\n      document.querySelector('body').setAttribute('style', 'background-color: rgb(245, 245, 245)')\n    },\n\n    beforeDestroy() {\n      document.querySelector('body').removeAttribute('style')\n    },\n\n    created() {\n      this.initStyle();\n      this.fetchData();\n    },\n\n    watch: {\n      '$route': 'fetchData'\n    },\n\n    methods: {\n      initStyle() {\n        if (localStorage.dropdown === undefined) {\n          localStorage.dropdown = true\n        }\n        this.dropdown = localStorage.dropdown === 'true';\n      },\n\n      fetchData() {\n        this.loading = true;\n        service.get('/api/chapter/' + this.chapterId).then(resp => {\n          this.$store.commit('INIT', resp);\n          this.favourite = resp.favourite;\n          document.title = `${this.chapter.comic.title} - ${this.chapter.title}`;\n          this.loading = false;\n        })\n      },\n\n      changeStyle() {\n        this.dropdown = !this.dropdown;\n        localStorage.dropdown = this.dropdown\n      },\n\n      toggleHeader(header) {\n        // console.log(header);\n        this.header = header;\n      },\n\n      menuMouseleave() {\n        $(\"#menu-content\").slideUp(800);\n      },\n\n      menuIconMouseenter() {\n        $(\"#menu-content\").slideDown(\"fast\");\n      },\n\n      menuClick() {\n        this.$store.dispatch('SyncRecord', this.currentPage);\n        this.$router.push(`/comic/${this.chapter.comic.id}`)\n      },\n\n      ...mapActions({\n        prevChapterEvent: 'PrevChapter',\n        nextChapterEvent: 'NextChapter'\n      })\n    }\n  }\n</script>\n\n<style scoped>\n  #menu-content {\n    position: fixed;\n    right: 0;\n    bottom: 92px;\n  }\n\n  #menu > img {\n    width: 24px;\n    height: 32px;\n    cursor: pointer;\n    position: fixed;\n    right: 15px;\n    bottom: 60px;\n  }\n\n  #menu-content {\n    display: none;\n  }\n\n  #menu svg {\n    width: 30px;\n    height: 30px;\n  }\n</style>","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"text-center row justify-content-center mt-4 mb-4 dropDown\"},[(_vm.prevChapter)?_c('button',{staticClass:\"btn btn-info\",on:{\"click\":function($event){_vm.preChapterEvent(_vm.getCurrentPage())}}},[_vm._v(\" 上一卷 \")]):_vm._e(),_c('router-link',{staticClass:\"ml-5 btn btn-info\",attrs:{\"to\":'/comic/' + _vm.chapter.comic.id,\"type\":\"button\"}},[_vm._v(\" 目录 \")]),(_vm.nextChapter)?_c('button',{staticClass:\"ml-5 btn btn-info\",on:{\"click\":function($event){_vm.nextChapterEvent(_vm.getCurrentPage())}}},[_vm._v(\" 下一卷 \")]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"text-center row justify-content-center mt-4 mb-4 dropDown\">\n    <button @click=\"preChapterEvent(getCurrentPage())\" class=\"btn btn-info\"\n            v-if=\"prevChapter\">\n      上一卷\n    </button>\n    <router-link :to=\"'/comic/' + chapter.comic.id\" class=\"ml-5 btn btn-info\"\n            type=\"button\">\n      目录\n    </router-link>\n    <button @click=\"nextChapterEvent(getCurrentPage())\" class=\"ml-5 btn btn-info\"\n            v-if=\"nextChapter\">\n      下一卷\n    </button>\n  </div>\n</template>\n\n<script>\n  import {mapActions, mapGetters} from 'vuex'\n\n  export default {\n    name: \"DropdownMenu\",\n    props: {\n      getCurrentPage: Function\n    },\n\n    computed: {\n      ...mapGetters([\n        'prevChapter',\n        'chapter',\n        'nextChapter'\n      ])\n    },\n\n    methods: {\n      ...mapActions({\n        prevChapterEvent: 'PrevChapter',\n        nextChapterEvent: 'NextChapter'\n      })\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DropdownMenu.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DropdownMenu.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DropdownMenu.vue?vue&type=template&id=36c32f14&scoped=true\"\nimport script from \"./DropdownMenu.vue?vue&type=script&lang=js\"\nexport * from \"./DropdownMenu.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36c32f14\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnePageMenu.vue?vue&type=style&index=0&id=6a637b8b&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7eb584de&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnePage.vue?vue&type=style&index=0&id=314ff17a&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.isLogin())?_c('span',[(_vm.fav)?_c('button',{staticClass:\"btn btn-outline-light btn-favourite\",attrs:{\"data-placement\":_vm.position,\"data-toggle\":\"tooltip\",\"title\":\"取消订阅\"},on:{\"click\":function($event){return _vm.deleteFav()}}},[_c('img',{attrs:{\"alt\":\"/images/icons/heart-fill.svg\",\"height\":\"30px\",\"src\":\"/api/images/icons/heart-fill.svg\",\"width\":\"30px\"}})]):_c('button',{staticClass:\"btn btn-outline-light btn-favourite\",attrs:{\"data-placement\":_vm.position,\"data-toggle\":\"tooltip\",\"title\":\"订阅\"},on:{\"click\":function($event){return _vm.addFav()}}},[_c('img',{attrs:{\"alt\":\"/images/icons/heart.svg\",\"height\":\"30px\",\"src\":\"/api/images/icons/heart.svg\",\"width\":\"30px\"}})])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span v-if=\"isLogin()\">\n    <button :data-placement=\"position\" @click=\"deleteFav()\"\n            class=\"btn btn-outline-light btn-favourite\"\n            data-toggle=\"tooltip\" title=\"取消订阅\" v-if=\"fav\">\n      <img alt=\"/images/icons/heart-fill.svg\"\n           height=\"30px\" src=\"/api/images/icons/heart-fill.svg\" width=\"30px\">\n    </button>\n    <button :data-placement=\"position\" @click=\"addFav()\"\n            class=\"btn btn-outline-light btn-favourite\"\n            data-toggle=\"tooltip\" title=\"订阅\" v-else>\n      <img alt=\"/images/icons/heart.svg\"\n           height=\"30px\" src=\"/api/images/icons/heart.svg\" width=\"30px\">\n    </button>\n  </span>\n</template>\n\n<script>\n  import {isLogin} from \"@/api/auth\";\n  import {service} from \"@/api/api\";\n\n  export default {\n    name: \"Favourite\",\n    props: {\n      favourite: Boolean,\n      comicId: [Number, String],\n      position: {\n        type: String,\n        default: 'top'\n      }\n    },\n\n    data() {\n      return {\n        fav: this.favourite\n      }\n    },\n\n    methods: {\n      isLogin: () => isLogin(),\n\n      addFav() {\n        service.post('/api/comic/' + this.comicId + '/addFavourite').then(() => {\n          this.fav = true;\n        })\n      },\n\n      deleteFav() {\n        service.post('/api/comic/' + this.comicId + '/deleteFavourite').then(() => {\n          this.fav = false;\n        })\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=04e9f0b4&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04e9f0b4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('dropdown-menu',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.header),expression:\"header\"}],attrs:{\"get-current-page\":_vm.getCurrentPage}}),_c('div',{staticClass:\"text-center\",attrs:{\"id\":\"main-pages\"}},[_c('span',{ref:\"top\"}),_c('div',{staticClass:\"page\"},[(_vm.state === 'init')?_c('ImageCard',{attrs:{\"src\":_vm.imgPath(_vm.imgList[0]),\"view\":\"top\"}}):(_vm.state === 'up')?_c('ImageCard',{attrs:{\"src\":_vm.imgPath(_vm.imgList[0]),\"view\":\"bottom\"}}):_vm._e(),_c('span',{staticClass:\"footer text-secondary\"},[_vm._v(_vm._s(_vm.imgList[0] + '/' + _vm.chapter.pages))])],1),_vm._l((_vm.imgList.slice(1)),function(index){return _c('div',{key:index,staticClass:\"page\"},[_c('ImageCard',{ref:'img' + index,refInFor:true,attrs:{\"src\":_vm.imgPath(index)}}),_c('span',{staticClass:\"footer text-secondary\"},[_vm._v(_vm._s(index + '/' + _vm.chapter.pages))])],1)})],2),_c('dropdown-menu',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.footer),expression:\"footer\"}],attrs:{\"get-current-page\":_vm.getCurrentPage}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dropdown.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dropdown.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Dropdown.vue?vue&type=template&id=cac75b86&scoped=true\"\nimport script from \"./Dropdown.vue?vue&type=script&lang=js\"\nexport * from \"./Dropdown.vue?vue&type=script&lang=js\"\nimport style0 from \"./Dropdown.vue?vue&type=style&index=0&id=cac75b86&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cac75b86\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"chapter\"}},[(_vm.loading)?_c('div',{staticClass:\"text-center\"},[_vm._v(\" 加载中... \")]):_vm._e(),(_vm.chapter)?_c('div',[(_vm.header)?[_c('div',{staticClass:\"header mb-4 text-center mt-4\",attrs:{\"id\":\"page-header\"}},[_c('h2',[_c('router-link',{staticClass:\"muted-link\",attrs:{\"to\":`/comic/${_vm.chapter.comic.id}`}},[_vm._v(_vm._s(_vm.chapter.comic.title))]),_vm._v(\" \"+_vm._s(' 第' + _vm.chapter.title + '卷')+\" \")],1)]),_c('div',{staticClass:\"form-check text-center\"},[_c('input',{staticClass:\"form-check-input\",attrs:{\"id\":\"read-style\",\"type\":\"checkbox\"},domProps:{\"checked\":_vm.dropdown},on:{\"change\":_vm.changeStyle}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"read-style\"}},[_vm._v(\" 下拉式阅读 \")])])]:_vm._e(),_c(_vm.dropdown ? 'dropdown' : 'one-page',{tag:\"component\",on:{\"toggle-header\":_vm.toggleHeader}}),_c('div',{attrs:{\"id\":\"menu\"},on:{\"mouseleave\":_vm.menuMouseleave}},[_c('div',{staticClass:\"text-center btn-group\",attrs:{\"id\":\"menu-content\",\"role\":\"group\"}},[_c('button',{staticClass:\"btn btn-outline-light\",attrs:{\"data-original-title\":\"切换阅读方式\",\"data-placement\":\"left\",\"data-toggle\":\"tooltip\",\"id\":\"menu-read-style\",\"title\":\"\",\"type\":\"button\"},on:{\"click\":_vm.changeStyle}},[_c('img',{attrs:{\"alt\":\"/images/icons/arrow-repeat.svg\",\"height\":\"30px\",\"src\":\"/api/images/icons/arrow-repeat.svg\",\"width\":\"30px\"}})]),_c('br'),_c('favourite',{attrs:{\"comic-id\":_vm.chapter.comic.id,\"favourite\":_vm.favourite,\"position\":\"left\"}}),_c('br'),(_vm.prevChapter)?[_c('button',{staticClass:\"btn btn-outline-light\",attrs:{\"data-original-title\":\"上一章\",\"data-placement\":\"left\",\"data-toggle\":\"tooltip\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.prevChapterEvent(_vm.currentPage)}}},[_c('svg',{staticClass:\"icon\",attrs:{\"p-id\":\"2633\",\"t\":\"1575400052204\",\"version\":\"1.1\",\"viewBox\":\"0 0 1024 1024\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M830.24 685.76l11.328-11.312a16 16 0 0 0 0-22.64L530.448 340.688a16 16 0 0 0-22.64 0L196.688 651.808a16 16 0 0 0 0 22.64l11.312 11.312a16 16 0 0 0 22.624 0l288.496-288.512L807.632 685.76a16 16 0 0 0 22.624 0z\",\"p-id\":\"2634\"}})])]),_c('br')]:_vm._e(),_c('button',{staticClass:\"btn btn-outline-light\",attrs:{\"data-original-title\":\"目录\",\"data-placement\":\"left\",\"data-toggle\":\"tooltip\",\"type\":\"button\"},on:{\"click\":_vm.menuClick}},[_c('svg',{staticClass:\"icon\",attrs:{\"p-id\":\"2869\",\"t\":\"1575400455009\",\"version\":\"1.1\",\"viewBox\":\"0 0 1024 1024\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M343.312 374.256v-16a16 16 0 0 1 16-16h23.648a16 16 0 0 1 16 16v16a16 16 0 0 1-16 16h-23.648a16 16 0 0 1-16-16z m100.16 0v-16a16 16 0 0 1 16-16H650.08a16 16 0 0 1 16 16v16a16 16 0 0 1-16 16H459.472a16 16 0 0 1-16-16z m-100.16 144.704v-16a16 16 0 0 1 16-16h23.648a16 16 0 0 1 16 16v16a16 16 0 0 1-16 16h-23.648a16 16 0 0 1-16-16z m100.16 0v-16a16 16 0 0 1 16-16H650.08a16 16 0 0 1 16 16v16a16 16 0 0 1-16 16H459.472a16 16 0 0 1-16-16z m-100.16 144.688v-16a16 16 0 0 1 16-16h23.648a16 16 0 0 1 16 16v16a16 16 0 0 1-16 16h-23.648a16 16 0 0 1-16-16z m100.16 0v-16a16 16 0 0 1 16-16H650.08a16 16 0 0 1 16 16v16a16 16 0 0 1-16 16H459.472a16 16 0 0 1-16-16zM256 240v541.92h497.392V240H256z m529.392 589.92H224a16 16 0 0 1-16-16V208a16 16 0 0 1 16-16h561.392a16 16 0 0 1 16 16v605.92a16 16 0 0 1-16 16z\",\"p-id\":\"2870\"}})])]),_c('br'),(_vm.nextChapter)?_c('button',{staticClass:\"btn btn-outline-light\",attrs:{\"data-original-title\":\"下一章\",\"data-placement\":\"left\",\"data-toggle\":\"tooltip\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.nextChapterEvent(_vm.currentPage)}}},[_c('svg',{staticClass:\"icon\",attrs:{\"p-id\":\"2515\",\"t\":\"1575399554787\",\"version\":\"1.1\",\"viewBox\":\"0 0 1024 1024\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M830.24 340.688l11.328 11.312a16 16 0 0 1 0 22.624L530.448 685.76a16 16 0 0 1-22.64 0L196.688 374.624a16 16 0 0 1 0-22.624l11.312-11.312a16 16 0 0 1 22.624 0l288.496 288.496 288.512-288.496a16 16 0 0 1 22.624 0z\",\"p-id\":\"2516\"}})])]):_vm._e()],2),_c('img',{attrs:{\"alt\":\"\",\"id\":\"menu-icon\",\"src\":\"/api/images/list-unordered.svg\"},on:{\"mouseenter\":_vm.menuIconMouseenter}})])],2):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7eb584de&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7eb584de&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7eb584de\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <one-page-menu :next-page=\"nextPage\" :prev-page=\"prePage\" id=\"menu-header\">\n    </one-page-menu>\n    <div :style=\"{cursor: cursor}\" @click=\"documentClick($event)\"\n         @mousemove=\"documentMousemove($event)\"\n         class=\"text-center\"\n         id=\"main-pages\">\n      <div class=\"page\">\n        <ImageCard :src=\"imgPath\"></ImageCard>\n<!--        <img class=\"page-img border border-light rounded mt-2 mb-2\"-->\n<!--            :alt=\"imgPath\" :src=\"imgPath\"/>-->\n      </div>\n    </div>\n    <one-page-menu :next-page=\"nextPage\" :prev-page=\"prePage\">\n    </one-page-menu>\n  </div>\n</template>\n\n<script>\n  import OnePageMenu from \"@/components/ChapterMenu/OnePageMenu\"\n  import {mapGetters} from \"vuex\"\n  import {isMobile} from \"@/utils/utils\";\n  import ImageCard from \"@/components/ImageCard/index\";\n\n  export default {\n    name: \"OnePage\",\n    components: {ImageCard, OnePageMenu},\n    props: {\n    },\n\n    data() {\n      return {\n        cursor: 'default'\n      }\n    },\n\n    computed: {\n      ...mapGetters([\n        'chapter',\n        'prevChapter',\n        'nextChapter',\n        'currentPage'\n      ]),\n\n      imgPath() {\n        return '/api/' + this.chapter.comic.title + '/' + this.chapter.title +\n               '/' + this.currentPage.format(3) + this.chapter.suffix;\n      }\n    },\n\n    created() {\n      window.onbeforeunload = () => {\n        this.$store.dispatch('SyncRecord', this.currentPage)\n      };\n    },\n\n    mounted() {\n      this.menuHeader = $('#menu-header')\n    },\n\n    methods: {\n      scrollToMenu() {\n        $(document).scrollTop(this.menuHeader[0].offsetTop)\n      },\n\n      prePage() {\n        if (this.currentPage > 1) {\n          this.$store.commit('PREV_PAGE');\n          this.$nextTick(() => this.scrollToMenu())\n        } else if (this.prevChapter && confirm('已经是第一页了，是否跳转到上一章节？')) {\n          this.$store.dispatch('PrevChapter', this.currentPage);\n        }\n      },\n\n      nextPage() {\n        if (this.currentPage < this.chapter.pages) {\n          this.$store.commit('NEXT_PAGE');\n          this.$nextTick(() => this.scrollToMenu())\n        } else if (this.nextChapter && confirm('已经是本篇章最后一页了，是否跳转到下一章节？')) {\n          this.$store.dispatch('NextChapter', this.currentPage);\n        }\n      },\n\n      documentClick(event) {\n        if (isMobile()) {\n          this.nextPage()\n        } else {\n          if (window.outerWidth > 5 * event.screenX / 2) {\n            this.prePage();\n          } else if (window.outerWidth < 5 * event.screenX / 3) {\n            this.nextPage();\n          }\n        }\n      },\n\n      documentMousemove(event) {\n        if (window.outerWidth > 5 * event.screenX / 2 ||\n            window.outerWidth < 5 * event.screenX / 3) {\n          this.cursor = 'pointer'\n        } else {\n          this.cursor = 'default'\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .page-img {\n    max-width: 90%;\n    border-width: .2rem;\n    box-shadow: 4px 4px 5px #aaaaaa, -3px -3px 5px #aaaaaa;\n    /*filter: drop-shadow(2px 2px 3px rgba(0, 0, 0, .5));*/\n  }\n</style>","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('one-page-menu',{attrs:{\"next-page\":_vm.nextPage,\"prev-page\":_vm.prePage,\"id\":\"menu-header\"}}),_c('div',{staticClass:\"text-center\",style:({cursor: _vm.cursor}),attrs:{\"id\":\"main-pages\"},on:{\"click\":function($event){return _vm.documentClick($event)},\"mousemove\":function($event){return _vm.documentMousemove($event)}}},[_c('div',{staticClass:\"page\"},[_c('ImageCard',{attrs:{\"src\":_vm.imgPath}})],1)]),_c('one-page-menu',{attrs:{\"next-page\":_vm.nextPage,\"prev-page\":_vm.prePage}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnePage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnePage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./OnePage.vue?vue&type=template&id=314ff17a&scoped=true\"\nimport script from \"./OnePage.vue?vue&type=script&lang=js\"\nexport * from \"./OnePage.vue?vue&type=script&lang=js\"\nimport style0 from \"./OnePage.vue?vue&type=style&index=0&id=314ff17a&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"314ff17a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=440eb63a&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"text-center justify-content-center mt-4 mb-4 onePage\"},[(_vm.prevChapter)?_c('button',{staticClass:\"btn btn-info pre-chapter\",on:{\"click\":function($event){return _vm.prevChapterEvent(_vm.currentPage)}}},[_vm._v(\" 上一卷 \")]):_vm._e(),_c('button',{staticClass:\"btn btn-outline-danger btn-sm ml-4\",on:{\"click\":_vm.prevPage}},[_vm._v(\"上一页\")]),_c('select',{staticClass:\"my-custom-select mr-sm-2 ml-4\",domProps:{\"value\":_vm.currentPage},on:{\"change\":_vm.updatePage}},_vm._l((_vm.chapter.pages),function(index){return _c('option',{key:index,domProps:{\"selected\":index === _vm.currentPage,\"value\":index}},[_vm._v(\" \"+_vm._s(index)+\" \")])}),0),_c('span',{staticClass:\"text-muted\"},[_vm._v(\"/\"+_vm._s(_vm.chapter.pages))]),_c('button',{staticClass:\"btn btn-outline-danger btn-sm ml-4\",on:{\"click\":_vm.nextPage}},[_vm._v(\"下一页\")]),(_vm.nextChapter)?_c('button',{staticClass:\"btn btn-info ml-4 next-chapter\",on:{\"click\":function($event){return _vm.nextChapterEvent(_vm.currentPage)}}},[_vm._v(\" 下一卷 \")]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"text-center justify-content-center mt-4 mb-4 onePage\">\n    <button @click=\"prevChapterEvent(currentPage)\" class=\"btn btn-info pre-chapter\"\n       v-if=\"prevChapter\">\n      上一卷\n    </button>\n    <button @click=\"prevPage\"\n            class=\"btn btn-outline-danger btn-sm ml-4\">上一页</button>\n    <select :value=\"currentPage\"\n            @change=\"updatePage\" class=\"my-custom-select mr-sm-2 ml-4\">\n      <option :key=\"index\" :selected=\"index === currentPage\"\n              :value=\"index\"\n              v-for=\"index in chapter.pages\">\n        {{ index }}\n      </option>\n    </select>\n    <span class=\"text-muted\">/{{ chapter.pages }}</span>\n    <button @click=\"nextPage\"\n            class=\"btn btn-outline-danger btn-sm ml-4\">下一页</button>\n    <button @click=\"nextChapterEvent(currentPage)\" class=\"btn btn-info ml-4 next-chapter\"\n      v-if=\"nextChapter\">\n      下一卷\n    </button>\n  </div>\n</template>\n\n<script>\n  import {mapActions, mapGetters} from \"vuex\"\n\n  export default {\n    name: \"OnePageMenu\",\n    props: {\n      prevPage: Function,\n      nextPage: Function\n    },\n\n    computed: {\n      ...mapGetters([\n        'chapter',\n        'prevChapter',\n        'nextChapter',\n        'currentPage'\n      ]),\n    },\n\n    methods: {\n      updatePage(e) {\n        this.$store.commit('GOTO_PAGE', parseInt(e.target.value));\n      },\n\n      ...mapActions({\n        prevChapterEvent: 'PrevChapter',\n        nextChapterEvent: 'NextChapter'\n      })\n    }\n  }\n</script>\n\n<style scoped>\n  .my-custom-select {\n    display: inline-block;\n    /* width: 100%; */\n    height: calc(2.25rem + 2px);\n    padding: .375rem 1.75rem .375rem .75rem;\n    line-height: 1.5;\n    color: #495057;\n    vertical-align: middle;\n    background: #fff url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 5'%3E%3Cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3E%3C/svg%3E\") no-repeat right .75rem center;\n    background-size: 8px 10px;\n    border: 1px solid #ced4da;\n    border-radius: .25rem;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n  }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnePageMenu.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnePageMenu.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./OnePageMenu.vue?vue&type=template&id=6a637b8b&scoped=true\"\nimport script from \"./OnePageMenu.vue?vue&type=script&lang=js\"\nexport * from \"./OnePageMenu.vue?vue&type=script&lang=js\"\nimport style0 from \"./OnePageMenu.vue?vue&type=style&index=0&id=6a637b8b&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a637b8b\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}