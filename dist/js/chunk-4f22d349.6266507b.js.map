{"version":3,"sources":["webpack:///./src/views/user/record/index.vue","webpack:///src/views/user/record/index.vue","webpack:///./src/views/user/record/index.vue?79f1","webpack:///./src/views/user/record/index.vue?0f74","webpack:///./src/components/Nav/NavPag.vue","webpack:///src/components/Nav/NavPag.vue","webpack:///./src/components/Nav/NavPag.vue?366b","webpack:///./src/components/Nav/NavPag.vue?b9d8","webpack:///./src/views/user/record/index.vue?8430"],"names":["render","_vm","this","_c","_self","records","attrs","fetchData","_l","list","record","key","id","staticClass","comic","title","_v","_s","concat","chapter","page","staticStyle","on","$event","deleteRecord","total","_e","staticRenderFns","name","components","NavPag","data","computed","_objectSpread","mapGetters","created","document","user","username","methods","_this","service","get","params","$route","query","then","resp","console","log","_this2","component","pages","class","disabled","isFirstPage","preventDefault","action","prePage","pageSize","index","active","pageNum","isLastPage","nextPage","props","Object","Function","path"],"mappings":"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","file":"js/chunk-4f22d349.6266507b.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.records)?_c('div',{staticClass:\"text-center\"},[_c('h4',[_vm._v(\"加载中\")])]):_c('div',[_c('nav-pag',{attrs:{\"action\":_vm.fetchData,\"pages\":_vm.records}}),_vm._l((_vm.records.list),function(record){return _c('div',{key:record.id,staticClass:\"row record justify-content-center\"},[_c('div',{staticClass:\"col-1 border-bottom pt-1 pb-1\"},[_c('router-link',{attrs:{\"to\":'/comic/' + record.comic.id}},[_c('img',{staticClass:\"record-cover img-thumbnail\",attrs:{\"alt\":record.comic.title + '/cover.jpg',\"src\":'/api/' + record.comic.title + '/cover.jpg'}})])],1),_c('div',{staticClass:\"col-5 border-bottom\"},[_c('h4',{staticClass:\"pt-2\"},[_c('router-link',{attrs:{\"to\":'/comic/' + record.comic.id}},[_vm._v(\" \"+_vm._s(record.comic.title)+\" \")])],1),_c('div',{staticClass:\"pt-2\"},[_c('router-link',{staticClass:\"text-muted\",attrs:{\"to\":`/chapter/${record.chapter.id}?page=${record.page}`,\"th:text\":\"|p.*{page} / CH.*{chapter.title}|\"}},[_vm._v(\" \"+_vm._s(`p.${record.page} / CH.${record.chapter.title}`)+\" \")])],1)]),_c('div',{staticClass:\"col-2 border-bottom mt-4\"},[_c('a',{staticClass:\"btn btn-outline-danger record-delete mr-1\",staticStyle:{\"top\":\"20px\"},on:{\"click\":function($event){return _vm.deleteRecord(record.id)}}},[_vm._v(\"删除\")]),_c('router-link',{staticClass:\"btn btn-outline-success\",attrs:{\"to\":`/chapter/${record.chapter.id}?page=${record.page}`}},[_vm._v(\" 继续阅读 \")])],1)])}),(_vm.records.total === 0)?_c('h4',{staticClass:\"text-center\"},[_vm._v(\" 尚未有阅读记录 \")]):_vm._e(),_c('nav-pag',{attrs:{\"action\":_vm.fetchData,\"pages\":_vm.records}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template xmlns:th=\"http://www.w3.org/1999/xhtml\">\n  <div class=\"text-center\" v-if=\"!records\">\n    <h4>加载中</h4>\n  </div>\n  <div v-else>\n    <nav-pag :action=\"fetchData\" :pages=\"records\"></nav-pag>\n    <div :key=\"record.id\" class=\"row record justify-content-center\" v-for=\"record of records.list\">\n      <div class=\"col-1 border-bottom pt-1 pb-1\">\n        <router-link :to=\"'/comic/' + record.comic.id\">\n          <img :alt=\"record.comic.title + '/cover.jpg'\"\n               :src=\"'/api/' + record.comic.title + '/cover.jpg'\"\n               class=\"record-cover img-thumbnail\">\n        </router-link>\n      </div>\n      <div class=\"col-5 border-bottom\">\n        <h4 class=\"pt-2\">\n          <router-link :to=\"'/comic/' + record.comic.id\">\n            {{ record.comic.title }}\n          </router-link>\n        </h4>\n        <div class=\"pt-2\">\n          <router-link :to=\"`/chapter/${record.chapter.id}?page=${record.page}`\"\n                       class=\"text-muted\"\n             th:text=\"|p.*{page} / CH.*{chapter.title}|\">\n            {{ `p.${record.page} / CH.${record.chapter.title}` }}\n          </router-link>\n        </div>\n      </div>\n      <div class=\"col-2 border-bottom mt-4\">\n        <a @click=\"deleteRecord(record.id)\" class=\"btn btn-outline-danger record-delete mr-1\" style=\"top: 20px\">删除</a>\n        <router-link :to=\"`/chapter/${record.chapter.id}?page=${record.page}`\"\n                     class=\"btn btn-outline-success\">\n          继续阅读\n        </router-link>\n      </div>\n    </div>\n    <h4 class=\"text-center\" v-if=\"records.total === 0\">\n      尚未有阅读记录\n    </h4>\n    <nav-pag :action=\"fetchData\" :pages=\"records\"></nav-pag>\n  </div>\n</template>\n\n<script>\n  import {mapGetters} from \"vuex\";\n  import {service} from \"@/api/api\";\n  import NavPag from \"@/components/Nav/NavPag\";\n\n  export default {\n    name: \"Record\",\n    components: {NavPag},\n    data() {\n      return {\n        records: null\n      }\n    },\n\n    computed: {\n      ...mapGetters([\n        'user'\n      ])\n    },\n\n    created() {\n      document.title = `阅读记录 - ${this.user.username}`;\n      this.fetchData()\n    },\n\n    methods: {\n      fetchData() {\n        service.get('/api/user/record', {\n          params: this.$route.query\n        }).then(resp => {\n          console.log(resp);\n          this.records = resp\n        })\n      },\n\n      deleteRecord(id) {\n        service.get(`/api/record/delete/${id}`).then(() => {\n          this.fetchData()\n        })\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  #record-info p{\n    margin-bottom: 0.2rem;\n  }\n\n  .record-cover {\n    width: 82px;\n    height: 96px;\n  }\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=087da50a&scoped=true&xmlns%3Ath=http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=087da50a&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"087da50a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.pages.pages > 1)?_c('nav',{staticClass:\"mt-3\",attrs:{\"aria-label\":\"Page navigation example\",\"id\":\"nav-pag\"}},[_c('ul',{staticClass:\"pagination justify-content-center\"},[_c('li',{staticClass:\"page-item\",class:{disabled: _vm.pages.isFirstPage}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"tabindex\":\"-1\"},on:{\"click\":function($event){$event.preventDefault();return _vm.action(_vm.pages.prePage, _vm.pages.pageSize)}}},[_vm._v(\" Previous \")])]),_vm._l((_vm.pages.pages),function(index){return _c('li',{key:index,staticClass:\"page-item\",class:{active: index === _vm.pages.pageNum}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.action(index, _vm.pages.pageSize)}}},[_vm._v(\" \"+_vm._s(index)+\" \")])])}),_c('li',{staticClass:\"page-item\",class:{disabled: _vm.pages.isLastPage}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.action(_vm.pages.nextPage, _vm.pages.pageSize)}}},[_vm._v(\" Next \")])])],2)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <nav aria-label=\"Page navigation example\" class=\"mt-3\" id=\"nav-pag\"\n       v-if=\"pages.pages > 1\">\n    <ul class=\"pagination justify-content-center\">\n      <li :class=\"{disabled: pages.isFirstPage}\" class=\"page-item\">\n        <a @click.prevent=\"action(pages.prePage, pages.pageSize)\" class=\"page-link\" href=\"#\" tabindex=\"-1\">\n          Previous\n        </a>\n      </li>\n      <li :class=\"{active: index === pages.pageNum}\" :key=\"index\"\n          class=\"page-item\" v-for=\"index in pages.pages\">\n        <a @click.prevent=\"action(index, pages.pageSize)\" class=\"page-link\" href=\"#\">\n          {{ index }}\n        </a>\n      </li>\n      <li :class=\"{disabled: pages.isLastPage}\" class=\"page-item\">\n        <a @click.prevent=\"action(pages.nextPage, pages.pageSize)\" class=\"page-link\" href=\"#\">\n          Next\n        </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\n  export default {\n    name: \"NavPag\",\n    props: {\n      pages: Object,\n      action: Function\n    },\n    data() {\n      return {\n        path: this.$route.path\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavPag.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavPag.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./NavPag.vue?vue&type=template&id=08d8b84e&scoped=true\"\nimport script from \"./NavPag.vue?vue&type=script&lang=js\"\nexport * from \"./NavPag.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08d8b84e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=087da50a&prod&scoped=true&lang=css\""],"sourceRoot":""}