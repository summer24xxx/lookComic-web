(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48593ac1"],{"76dd":function(t,a,e){"use strict";var i=function(){var t=this,a=t._self._c;return t.pages.pages>1?a("nav",{staticClass:"mt-3",attrs:{"aria-label":"Page navigation example",id:"nav-pag"}},[a("ul",{staticClass:"pagination justify-content-center"},[a("li",{staticClass:"page-item",class:{disabled:t.pages.isFirstPage}},[a("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1"},on:{click:function(a){return a.preventDefault(),t.action(t.pages.prePage,t.pages.pageSize)}}},[t._v(" Previous ")])]),t._l(t.pages.pages,(function(e){return a("li",{key:e,staticClass:"page-item",class:{active:e===t.pages.pageNum}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.action(e,t.pages.pageSize)}}},[t._v(" "+t._s(e)+" ")])])})),a("li",{staticClass:"page-item",class:{disabled:t.pages.isLastPage}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.action(t.pages.nextPage,t.pages.pageSize)}}},[t._v(" Next ")])])],2)]):t._e()},s=[],c={name:"NavPag",props:{pages:Object,action:Function},data:function(){return{path:this.$route.path}}},n=c,o=e("2877"),l=Object(o["a"])(n,i,s,!1,null,"08d8b84e",null);a["a"]=l.exports},aca4:function(t,a,e){"use strict";e("b0c0");var i=function(){var t=this,a=t._self._c;return a("div",{staticClass:"col-2 mt-lg-5"},[a("ul",{staticClass:"nav flex-column text-center nav-pills bg-gray"},[a("li",{staticClass:"nav-item list-group-item-action pt-2 pb-2 border-bottom"},[a("router-link",{staticClass:"nav-link",class:{active:"AdminComicLocal"===t.$route.name},attrs:{to:"/admin/comic/index"}},[t._v(" 漫画管理 ")])],1),t.hasRole("ROLE_LADMIN")?a("li",{staticClass:"nav-item list-group-item-action pt-2 pb-2 border-bottom"},[a("router-link",{staticClass:"nav-link",class:{active:"ComicLocal"===t.$route.name},attrs:{to:"/admin/comic/addList"}},[t._v(" 添加漫画 ")])],1):t._e(),a("li",{staticClass:"nav-item list-group-item-action pt-2 pb-2 border-bottom"},[a("router-link",{staticClass:"nav-link",class:{active:"Account"===t.$route.name},attrs:{to:"/admin/account/index"}},[t._v(" 账号管理 ")])],1)])])},s=[],c=e("3786"),n={name:"SidebarAdmin",methods:{hasRole:function(t){return Object(c["b"])(t)}}},o=n,l=e("2877"),r=Object(l["a"])(o,i,s,!1,null,"a867065a",null);a["a"]=r.exports},f42e:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t._self._c;return t.comics?a("div",[a("nav-pag",{attrs:{action:t.fetchData,pages:t.comics}}),a("div",{staticClass:"row"},[a("sidebar-admin"),a("div",{staticClass:"col"},[a("table",{staticClass:"table table-striped justify-content-center comics-table"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),a("th",{attrs:{scope:"col"}},[t._v("漫画名")]),a("th",{attrs:{scope:"col"}},[t._v("章节数")]),a("th",{attrs:{scope:"col"}},[t._v("作者")]),t.hasRole("ROLE_LADMIN")?a("th",{attrs:{scope:"col"}}):t._e(),t.hasRole("ROLE_LADMIN")?a("th",{attrs:{scope:"col"}}):t._e(),a("th",{attrs:{scope:"col"}})])]),a("tbody",t._l(t.comics.list,(function(e,i){return a("tr",{key:e.id,staticClass:"comic-info"},[a("th",{attrs:{scope:"row"}},[t._v(t._s(i+t.comics.startRow))]),a("td",[a("router-link",{attrs:{to:"/admin/comic/".concat(e.id)}},[t._v(t._s(e.title))])],1),a("td",[t._v(t._s(t.comicsMap[e.id]))]),a("td",[t._v(t._s(e.author))]),a("td",[t.hasRole("ROLE_LADMIN")?a("router-link",{attrs:{to:"/admin/comic/".concat(e.id,"/addList")}},[t._v(" 本地章节 ")]):t._e()],1),a("td",[t.hasRole("ROLE_LADMIN")?a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.updateComic(e)}}},[t._v("更新")]):t._e()]),a("td",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.deleteComic(e.id,i)}}},[t._v("删除")])])])})),0)])])],1),a("nav-pag",{attrs:{action:t.fetchData,pages:t.comics}})],1):a("div",{staticClass:"text-center"},[a("h4",[t._v("加载中...")])])},s=[],c=(e("a434"),e("4ec3")),n=e("76dd"),o=e("aca4"),l=e("3786"),r={name:"AdminComic",components:{SidebarAdmin:o["a"],NavPag:n["a"]},data:function(){return{comics:null,comicsMap:null}},created:function(){this.fetchData()},methods:{hasRole:function(t){return Object(l["b"])(t)},fetchData:function(){var t=this;c["e"].get("/api/admin/comic/index").then((function(a){t.comics=a.comics,t.comicsMap=a.comicsMap}))},updateComic:function(t){var a=this;c["e"].put("/api/admin/comic/add?title=".concat(t.title)).then((function(e){a.comicsMap[t.id]=e}))},deleteComic:function(t,a){var e=this;c["e"].delete("/api/admin/comic/delete?id=".concat(t)).then((function(){e.comics.list.splice(a,1)}))}}},u=r,p=e("2877"),d=Object(p["a"])(u,i,s,!1,null,"48b41a04",null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-48593ac1.fb4a43cc.js.map