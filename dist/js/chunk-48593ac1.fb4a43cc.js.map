{"version":3,"sources":["webpack:///./src/components/Nav/NavPag.vue","webpack:///src/components/Nav/NavPag.vue","webpack:///./src/components/Nav/NavPag.vue?366b","webpack:///./src/components/Nav/NavPag.vue?b9d8","webpack:///./src/components/Sidebar/SidebarAdmin.vue","webpack:///src/components/Sidebar/SidebarAdmin.vue","webpack:///./src/components/Sidebar/SidebarAdmin.vue?3a6d","webpack:///./src/components/Sidebar/SidebarAdmin.vue?7a05","webpack:///./src/views/admin/comic/index.vue","webpack:///src/views/admin/comic/index.vue","webpack:///./src/views/admin/comic/index.vue?4b80","webpack:///./src/views/admin/comic/index.vue?6657"],"names":["render","_vm","this","_c","_self","pages","staticClass","attrs","class","disabled","isFirstPage","on","$event","preventDefault","action","prePage","pageSize","_v","_l","index","key","active","pageNum","_s","isLastPage","nextPage","_e","staticRenderFns","name","props","Object","Function","data","path","$route","component","hasRole","methods","role","hasPermission","comics","fetchData","list","comic","id","startRow","concat","title","comicsMap","author","updateComic","deleteComic","components","SidebarAdmin","NavPag","created","_this","service","get","then","resp","_this2","put","comicId","_this3","delete","splice"],"mappings":"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","file":"js/chunk-48593ac1.fb4a43cc.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.pages.pages > 1)?_c('nav',{staticClass:\"mt-3\",attrs:{\"aria-label\":\"Page navigation example\",\"id\":\"nav-pag\"}},[_c('ul',{staticClass:\"pagination justify-content-center\"},[_c('li',{staticClass:\"page-item\",class:{disabled: _vm.pages.isFirstPage}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"tabindex\":\"-1\"},on:{\"click\":function($event){$event.preventDefault();return _vm.action(_vm.pages.prePage, _vm.pages.pageSize)}}},[_vm._v(\" Previous \")])]),_vm._l((_vm.pages.pages),function(index){return _c('li',{key:index,staticClass:\"page-item\",class:{active: index === _vm.pages.pageNum}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.action(index, _vm.pages.pageSize)}}},[_vm._v(\" \"+_vm._s(index)+\" \")])])}),_c('li',{staticClass:\"page-item\",class:{disabled: _vm.pages.isLastPage}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.action(_vm.pages.nextPage, _vm.pages.pageSize)}}},[_vm._v(\" Next \")])])],2)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <nav aria-label=\"Page navigation example\" class=\"mt-3\" id=\"nav-pag\"\n       v-if=\"pages.pages > 1\">\n    <ul class=\"pagination justify-content-center\">\n      <li :class=\"{disabled: pages.isFirstPage}\" class=\"page-item\">\n        <a @click.prevent=\"action(pages.prePage, pages.pageSize)\" class=\"page-link\" href=\"#\" tabindex=\"-1\">\n          Previous\n        </a>\n      </li>\n      <li :class=\"{active: index === pages.pageNum}\" :key=\"index\"\n          class=\"page-item\" v-for=\"index in pages.pages\">\n        <a @click.prevent=\"action(index, pages.pageSize)\" class=\"page-link\" href=\"#\">\n          {{ index }}\n        </a>\n      </li>\n      <li :class=\"{disabled: pages.isLastPage}\" class=\"page-item\">\n        <a @click.prevent=\"action(pages.nextPage, pages.pageSize)\" class=\"page-link\" href=\"#\">\n          Next\n        </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\n  export default {\n    name: \"NavPag\",\n    props: {\n      pages: Object,\n      action: Function\n    },\n    data() {\n      return {\n        path: this.$route.path\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavPag.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavPag.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./NavPag.vue?vue&type=template&id=08d8b84e&scoped=true\"\nimport script from \"./NavPag.vue?vue&type=script&lang=js\"\nexport * from \"./NavPag.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08d8b84e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"col-2 mt-lg-5\"},[_c('ul',{staticClass:\"nav flex-column text-center nav-pills bg-gray\"},[_c('li',{staticClass:\"nav-item list-group-item-action pt-2 pb-2 border-bottom\"},[_c('router-link',{staticClass:\"nav-link\",class:{active: _vm.$route.name === 'AdminComicLocal'},attrs:{\"to\":\"/admin/comic/index\"}},[_vm._v(\" 漫画管理 \")])],1),(_vm.hasRole('ROLE_LADMIN'))?_c('li',{staticClass:\"nav-item list-group-item-action pt-2 pb-2 border-bottom\"},[_c('router-link',{staticClass:\"nav-link\",class:{active: _vm.$route.name === 'ComicLocal'},attrs:{\"to\":\"/admin/comic/addList\"}},[_vm._v(\" 添加漫画 \")])],1):_vm._e(),_c('li',{staticClass:\"nav-item list-group-item-action pt-2 pb-2 border-bottom\"},[_c('router-link',{staticClass:\"nav-link\",class:{active: _vm.$route.name === 'Account'},attrs:{\"to\":\"/admin/account/index\"}},[_vm._v(\" 账号管理 \")])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"col-2 mt-lg-5\">\n    <ul class=\"nav flex-column text-center nav-pills bg-gray\">\n      <li class=\"nav-item list-group-item-action pt-2 pb-2 border-bottom\">\n        <router-link :class=\"{active: $route.name === 'AdminComicLocal'}\" class=\"nav-link\"\n                     to=\"/admin/comic/index\">\n          漫画管理\n        </router-link>\n      </li>\n      <li class=\"nav-item list-group-item-action pt-2 pb-2 border-bottom\" v-if=\"hasRole('ROLE_LADMIN')\">\n        <router-link :class=\"{active: $route.name === 'ComicLocal'}\" class=\"nav-link\"\n                     to=\"/admin/comic/addList\">\n          添加漫画\n        </router-link>\n      </li>\n      <li class=\"nav-item list-group-item-action pt-2 pb-2 border-bottom\">\n        <router-link :class=\"{active: $route.name === 'Account'}\" class=\"nav-link\"\n                     to=\"/admin/account/index\">\n          账号管理\n        </router-link>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\n  import {hasPermission} from \"@/api/auth\";\n\n  export default {\n    name: \"SidebarAdmin\",\n\n    methods: {\n      hasRole: role => hasPermission(role)\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidebarAdmin.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidebarAdmin.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SidebarAdmin.vue?vue&type=template&id=a867065a&scoped=true\"\nimport script from \"./SidebarAdmin.vue?vue&type=script&lang=js\"\nexport * from \"./SidebarAdmin.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a867065a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.comics)?_c('div',{staticClass:\"text-center\"},[_c('h4',[_vm._v(\"加载中...\")])]):_c('div',[_c('nav-pag',{attrs:{\"action\":_vm.fetchData,\"pages\":_vm.comics}}),_c('div',{staticClass:\"row\"},[_c('sidebar-admin'),_c('div',{staticClass:\"col\"},[_c('table',{staticClass:\"table table-striped justify-content-center comics-table\"},[_c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"#\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"漫画名\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"章节数\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"作者\")]),(_vm.hasRole('ROLE_LADMIN'))?_c('th',{attrs:{\"scope\":\"col\"}}):_vm._e(),(_vm.hasRole('ROLE_LADMIN'))?_c('th',{attrs:{\"scope\":\"col\"}}):_vm._e(),_c('th',{attrs:{\"scope\":\"col\"}})])]),_c('tbody',_vm._l((_vm.comics.list),function(comic,index){return _c('tr',{key:comic.id,staticClass:\"comic-info\"},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(index + _vm.comics.startRow))]),_c('td',[_c('router-link',{attrs:{\"to\":`/admin/comic/${comic.id}`}},[_vm._v(_vm._s(comic.title))])],1),_c('td',[_vm._v(_vm._s(_vm.comicsMap[comic.id]))]),_c('td',[_vm._v(_vm._s(comic.author))]),_c('td',[(_vm.hasRole('ROLE_LADMIN'))?_c('router-link',{attrs:{\"to\":`/admin/comic/${comic.id}/addList`}},[_vm._v(\" 本地章节 \")]):_vm._e()],1),_c('td',[(_vm.hasRole('ROLE_LADMIN'))?_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.updateComic(comic)}}},[_vm._v(\"更新\")]):_vm._e()]),_c('td',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.deleteComic(comic.id, index)}}},[_vm._v(\"删除\")])])])}),0)])])],1),_c('nav-pag',{attrs:{\"action\":_vm.fetchData,\"pages\":_vm.comics}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"text-center\" v-if=\"!comics\">\n    <h4>加载中...</h4>\n  </div>\n\n  <div v-else>\n    <nav-pag :action=\"fetchData\" :pages=\"comics\"></nav-pag>\n    <div class=\"row\">\n      <sidebar-admin></sidebar-admin>\n      <div class=\"col\">\n        <table class=\"table table-striped justify-content-center comics-table\">\n          <thead>\n          <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">漫画名</th>\n            <th scope=\"col\">章节数</th>\n            <th scope=\"col\">作者</th>\n            <th scope=\"col\" v-if=\"hasRole('ROLE_LADMIN')\"></th>\n            <th scope=\"col\" v-if=\"hasRole('ROLE_LADMIN')\"></th>\n            <th scope=\"col\"></th>\n          </tr>\n          </thead>\n          <tbody>\n          <!--                TODO: 改成由ajax实现的异步更新-->\n          <tr :key=\"comic.id\" class=\"comic-info\" v-for=\"(comic, index) of comics.list\">\n            <th scope=\"row\">{{ index + comics.startRow }}</th>\n            <td>\n              <router-link :to=\"`/admin/comic/${comic.id}`\">{{ comic.title }}</router-link>\n            </td>\n            <td>{{ comicsMap[comic.id] }}</td>\n            <td>{{ comic.author }}</td>\n            <td>\n              <router-link :to=\"`/admin/comic/${comic.id}/addList`\"\n                           v-if=\"hasRole('ROLE_LADMIN')\">\n                本地章节\n              </router-link>\n            </td>\n            <td><a @click.prevent=\"updateComic(comic)\"  href=\"#\" v-if=\"hasRole('ROLE_LADMIN')\">更新</a></td>\n            <td><a @click.prevent=\"deleteComic(comic.id, index)\" href=\"#\">删除</a></td>\n          </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n    <nav-pag :action=\"fetchData\" :pages=\"comics\"></nav-pag>\n  </div>\n</template>\n\n<script>\n  import {service} from \"@/api/api\";\n  import NavPag from \"@/components/Nav/NavPag\";\n  import SidebarAdmin from \"@/components/Sidebar/SidebarAdmin\";\n  import {hasPermission} from \"@/api/auth\";\n\n  export default {\n    name: \"AdminComic\",\n    components: {SidebarAdmin, NavPag},\n    data() {\n      return {\n        comics: null,\n        comicsMap: null\n      }\n    },\n\n    created() {\n      this.fetchData()\n    },\n\n    methods: {\n      hasRole: role => hasPermission(role),\n\n      fetchData() {\n        service.get('/api/admin/comic/index').then(resp => {\n          this.comics = resp.comics;\n          this.comicsMap = resp.comicsMap\n        })\n      },\n\n      updateComic(comic) {\n        service.put(`/api/admin/comic/add?title=${comic.title}`).then(resp => {\n          this.comicsMap[comic.id] = resp\n        })\n      },\n\n      deleteComic(comicId, index) {\n        // 可以考虑请求下一个comic以填充当前页，否则刷新当前页面更直观些\n        service.delete(`/api/admin/comic/delete?id=${comicId}`).then(() => {\n          this.comics.list.splice(index, 1);\n        })\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=48b41a04&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48b41a04\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}