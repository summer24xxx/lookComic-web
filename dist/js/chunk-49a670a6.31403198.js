(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49a670a6"],{"1bd5":function(t,a,e){},6796:function(t,a,e){"use strict";var i=function(){var t=this,a=t._self._c;return a("div",{staticClass:"card img-card"},[a("router-link",{attrs:{to:"/comic/"+t.comic.id,target:"_blank"}},[a("img",{staticClass:"img-thumbnail card-img-top",attrs:{alt:"/"+t.comic.title+"/cover.jpg",src:"/api/"+t.comic.title+"/cover.jpg"}})]),a("div",{staticClass:"card-body"},[a("span",{staticClass:"card-text text-center text-truncate",attrs:{title:t.comic.title,"data-placement":"top","data-toggle":"tooltip"}},[t._v(" "+t._s(t.comic.title)+" ")]),t._t("default")],2)],1)},s=[],n={name:"ComicCard",props:{comic:Object}},c=n,o=(e("be55"),e("2877")),r=Object(o["a"])(c,i,s,!1,null,"48eb3b61",null);a["a"]=r.exports},"76dd":function(t,a,e){"use strict";var i=function(){var t=this,a=t._self._c;return t.pages.pages>1?a("nav",{staticClass:"mt-3",attrs:{"aria-label":"Page navigation example",id:"nav-pag"}},[a("ul",{staticClass:"pagination justify-content-center"},[a("li",{staticClass:"page-item",class:{disabled:t.pages.isFirstPage}},[a("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1"},on:{click:function(a){return a.preventDefault(),t.action(t.pages.prePage,t.pages.pageSize)}}},[t._v(" Previous ")])]),t._l(t.pages.pages,(function(e){return a("li",{key:e,staticClass:"page-item",class:{active:e===t.pages.pageNum}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.action(e,t.pages.pageSize)}}},[t._v(" "+t._s(e)+" ")])])})),a("li",{staticClass:"page-item",class:{disabled:t.pages.isLastPage}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.action(t.pages.nextPage,t.pages.pageSize)}}},[t._v(" Next ")])])],2)]):t._e()},s=[],n={name:"NavPag",props:{pages:Object,action:Function},data:function(){return{path:this.$route.path}}},c=n,o=e("2877"),r=Object(o["a"])(c,i,s,!1,null,"08d8b84e",null);a["a"]=r.exports},bb51:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t._self._c;return a("div",[t._m(0),t.loading?a("div",{staticClass:"text-center"},[a("h4",[t._v("加载中...")])]):t._e(),t.pages?[a("nav-pag",{attrs:{pages:t.pages}}),a("div",{staticClass:"row justify-content-center",attrs:{id:"cards"}},t._l(t.pages.list,(function(e){return a("div",{key:e.id,staticClass:"mt-3 ml-4"},[a("favourite-comic-card",{attrs:{comic:e,favourite:t.favourites?t.favourites[e.id]:null}})],1)})),0),a("nav-pag",{attrs:{pages:t.pages}})]:t._e()],2)},s=[function(){var t=this,a=t._self._c;return a("header",{staticClass:"text-center"},[a("h2",{staticClass:"mb-4"},[t._v("目录")])])}],n=e("4ec3"),c=e("76dd"),o=function(){var t=this,a=t._self._c;return a("comic-card",{attrs:{comic:t.comic}},[a("favourite",{staticClass:"float-right",attrs:{"comic-id":t.comic.id,favourite:t.favourite}})],1)},r=[],l=e("6796"),u=e("c8f2"),p={name:"FavouriteComicCard",props:{comic:Object,favourite:Boolean},components:{Favourite:u["a"],ComicCard:l["a"]}},g=p,d=e("2877"),f=Object(d["a"])(g,o,r,!1,null,"b64529a4",null),v=f.exports,m={name:"Home",components:{FavouriteComicCard:v,NavPag:c["a"]},data:function(){return{loading:!1,pages:null,favourites:null}},created:function(){this.pages||this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this;this.loading=!0,n["e"].get("/api/index",{params:this.$route.query}).then((function(a){t.pages=a.pages,t.favourites=a.favourites,t.loading=!1}))}}},h=m,b=Object(d["a"])(h,i,s,!1,null,"8d3fda12",null);a["default"]=b.exports},be55:function(t,a,e){"use strict";e("1bd5")},c8f2:function(t,a,e){"use strict";var i=function(){var t=this,a=t._self._c;return t.isLogin()?a("span",[t.fav?a("button",{staticClass:"btn btn-outline-light btn-favourite",attrs:{"data-placement":t.position,"data-toggle":"tooltip",title:"取消订阅"},on:{click:function(a){return t.deleteFav()}}},[a("img",{attrs:{alt:"/images/icons/heart-fill.svg",height:"30px",src:"/api/images/icons/heart-fill.svg",width:"30px"}})]):a("button",{staticClass:"btn btn-outline-light btn-favourite",attrs:{"data-placement":t.position,"data-toggle":"tooltip",title:"订阅"},on:{click:function(a){return t.addFav()}}},[a("img",{attrs:{alt:"/images/icons/heart.svg",height:"30px",src:"/api/images/icons/heart.svg",width:"30px"}})])]):t._e()},s=[],n=(e("a9e3"),e("3786")),c=e("4ec3"),o={name:"Favourite",props:{favourite:Boolean,comicId:[Number,String],position:{type:String,default:"top"}},data:function(){return{fav:this.favourite}},methods:{isLogin:function(){return Object(n["c"])()},addFav:function(){var t=this;c["e"].post("/api/comic/"+this.comicId+"/addFavourite").then((function(){t.fav=!0}))},deleteFav:function(){var t=this;c["e"].post("/api/comic/"+this.comicId+"/deleteFavourite").then((function(){t.fav=!1}))}}},r=o,l=e("2877"),u=Object(l["a"])(r,i,s,!1,null,"04e9f0b4",null);a["a"]=u.exports}}]);
//# sourceMappingURL=chunk-49a670a6.31403198.js.map